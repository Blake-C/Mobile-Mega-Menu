!function(e){jQuery.fn.extend({mobileMegaMenu:function(t){var i={changeToggleText:!1,enableWidgetRegion:!1,prependCloseButton:!1,resetMenu:!1,stayOnActive:!0,toogleTextOnClose:"Close Menu"},s=e.extend(i,t);return this.each(function(){var t=250,i=e("a.toggle-menu").html(),n=".mobile-mega-menu";if(e(n+" ul ul").before('<a class="toggle" href="#"><div class="arrow">Next</div></a>').siblings("a:first-of-type").addClass("has-toggle"),e(n+" ul ul").prepend('<li><a class="back-button" href="#">Back</a></li>'),e("html, body").on("touchstart click",function(){e("html, body").stop()}),s.enableWidgetRegion===!0){var l=e(n+" .widget-region").detach();e(n+" ul:first-child").append(l)}var a=-1;if(e(n+" ul").each(function(){a=a>e(this).height()?a:e(this).height()}),e(n).css("min-height",a+50).hide(),s.stayOnActive===!0){var o=window.location.href,u=o.replace("#","");e(n+" ul li a").filter(function(){return this.href===u}).addClass("active"),e(n+" a.active").closest("ul").addClass("is-in-view").parents("ul").addClass("has-been-viewed"),e(n+" a.active").closest("ul").parents().siblings("li").find("ul").hide()}s.prependCloseButton===!0&&e(n+" ul:first-of-type").prepend('<li><a class="close-button toggle-menu" href="#">Close Menu</a></li>'),e("a.toggle-menu").click(function(l){l.preventDefault(),e(n+" ul:first-child").hasClass("has-been-viewed")||e(n+" ul:first-child").toggleClass("is-in-view"),e(this).toggleClass("extended"),s.changeToggleText===!0&&(e(this).hasClass("extended")?e(this).html(s.toogleTextOnClose):e(this).hasClass("extended")||e(this).html(i)),s.resetMenu===!0?e(n).fadeIn(1,function(){e(n).toggleClass("open").promise().done(function(){e(n).hasClass("open")||(e(n).fadeOut(),setTimeout(function(){e(n+" ul").removeClass("is-in-view has-been-viewed")},t))})}):e(n).fadeIn(1,function(){e(n).toggleClass("open").promise().done(function(){e(n).hasClass("open")||e(n).fadeOut()})})}),e("a.toggle").click(function(i){i.preventDefault(),setTimeout(function(){e("html, body").animate({scrollTop:0},t)},t),e(this).siblings("ul:first-of-type").addClass("is-in-view"),e(this).parents().siblings("li").find("ul").hide(),e(this).siblings("ul").show(),e(this).parents("ul:first-of-type").addClass("has-been-viewed").removeClass("is-in-view")}),e("a.back-button").click(function(t){t.preventDefault(),e(this).parents("ul.is-in-view").closest("ul.has-been-viewed").toggleClass("has-been-viewed is-in-view").promise().done(function(){e("ul.is-in-view ul.is-in-view").toggleClass("is-in-view")})}),e("html").hasClass("csstransitions")||(e("a.toggle-menu").click(function(i){i.preventDefault(),e(n).toggleClass("open-modernizer",t)}),e("a.toggle").click(function(i){i.preventDefault(),e(n+" ul").animate({right:"+=100%"},t)}),e("a.back-button").click(function(i){i.preventDefault(),e(n+" ul").animate({right:"-=100%"},t)}))})}})}(jQuery);