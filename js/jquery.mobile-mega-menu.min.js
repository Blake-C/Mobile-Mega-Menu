!function(e){jQuery.fn.extend({mobileMegaMenu:function(t){var i={changeToggleText:!1,enableWidgetRegion:!1,prependCloseButton:!1,stayOnActive:!0,toogleTextOnClose:"Close Menu"},l=e.extend(i,t);return this.each(function(){var t=250,i=e("a.toggle-menu").html(),s=".mobile-mega-menu",n='<a class="toggle" href="#"><div class="arrow">Next</div></a>',a='<li><a class="back-button" href="#">Back</a></li>',o='<li><a class="close-button toggle-menu" href="#">Close Menu</a></li>';if(e(s+" ul ul").before(n).siblings("a:first-of-type").addClass("has-toggle"),e(s+" ul ul").prepend(a),l.prependCloseButton&&e(s+" ul").closest("ul").prepend(o),e("html, body").on("touchstart click",function(){e("html, body").stop()}),l.enableWidgetRegion){var u=e(s+" .widget-region").detach();e(s+" ul:first-child").append(u)}var c=-1;if(e(s+" ul").each(function(){c=c>e(this).height()?c:e(this).height()}),e(s).css("min-height",c+50).addClass("remove"),l.stayOnActive){var g=window.location.href,r=g.replace("#","");e(s+" ul li a").filter(function(){return this.href===r}).addClass("active"),e(s+" a.active").closest("ul").addClass("is-in-view").parents("ul").addClass("has-been-viewed"),e(s+" a.active").closest("ul").parents().siblings("li").find("ul").hide()}e("a.toggle-menu").click(function(n){n.preventDefault(),e(s+" ul:first-child").hasClass("has-been-viewed")||e(s+" ul:first-child").toggleClass("is-in-view"),l.changeToggleText&&(e(s).hasClass("open")?e(s).hasClass("open")&&e("a.toggle-menu").html(i):e("a.toggle-menu").html(l.toogleTextOnClose)),e(s).toggleClass("open").delay(t).toggleClass("remove")}),e("a.toggle").click(function(i){i.preventDefault(),setTimeout(function(){e("html, body").animate({scrollTop:0},t)},t),e(this).siblings("ul:first-of-type").addClass("is-in-view"),e(this).parents().siblings("li").find("ul").hide(),e(this).siblings("ul").show(),e(this).parents("ul:first-of-type").addClass("has-been-viewed").removeClass("is-in-view")}),e("a.back-button").click(function(t){t.preventDefault(),e(this).parents("ul.is-in-view").closest("ul.has-been-viewed").toggleClass("has-been-viewed is-in-view").promise().done(function(){e("ul.is-in-view ul.is-in-view").toggleClass("is-in-view")})}),e("html").hasClass("csstransitions")||(e("a.toggle-menu").click(function(i){i.preventDefault(),e(s).toggleClass("open-modernizer",t)}),e("a.toggle").click(function(i){i.preventDefault(),e(s+" ul").animate({right:"+=100%"},t)}),e("a.back-button").click(function(i){i.preventDefault(),e(s+" ul").animate({right:"-=100%"},t)}))})}})}(jQuery);