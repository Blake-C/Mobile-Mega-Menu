!function(e){jQuery.fn.extend({mobileMegaMenu:function(t){var i={changeToggleText:!1,enableWidgetRegion:!1,prependCloseButton:!1,stayOnActive:!0,toogleTextOnClose:"Close Menu"},s=e.extend(i,t);return this.each(function(){var t=250,i=e("a.toggle-menu").html(),l=".mobile-mega-menu",n='<a class="toggle" href="#"><div class="arrow">Next</div></a>',a='<li><a class="back-button" href="#">Back</a></li>',o='<li><a class="close-button toggle-menu" href="#">Close Menu</a></li>';if(e(l+" ul ul").before(n).siblings("a:first-of-type").addClass("has-toggle"),e(l+" ul ul").prepend(a),s.prependCloseButton&&e(l+" ul").closest("ul").prepend(o),e("html, body").on("touchstart click",function(){e("html, body").stop()}),s.enableWidgetRegion){var u=e(l+" .widget-region").detach();e(l+" ul:first-child").append(u)}var c=-1;if(e(l+" ul").each(function(){c=c>e(this).height()?c:e(this).height()}),e(l).css("min-height",c+50).addClass("remove"),s.stayOnActive){var g=window.location.href,h=g.replace("#","");e(l+" ul li a").filter(function(){return this.href===h}).addClass("active"),e(l+" a.active").closest("ul").addClass("is-in-view").parents("ul").addClass("has-been-viewed"),e(l+" a.active").closest("ul").parents().siblings("li").find("ul").hide()}e("a.toggle-menu").click(function(n){n.preventDefault(),e(l+" ul:first-child").hasClass("has-been-viewed")||e(l+" ul:first-child").toggleClass("is-in-view"),e(this).toggleClass("extended"),s.changeToggleText&&(e(this).hasClass("extended")?e(this).html(s.toogleTextOnClose):e(this).hasClass("extended")||e(this).html(i)),e(l).toggleClass("open").delay(t).toggleClass("remove")}),e("a.toggle").click(function(i){i.preventDefault(),setTimeout(function(){e("html, body").animate({scrollTop:0},t)},t),e(this).siblings("ul:first-of-type").addClass("is-in-view"),e(this).parents().siblings("li").find("ul").hide(),e(this).siblings("ul").show(),e(this).parents("ul:first-of-type").addClass("has-been-viewed").removeClass("is-in-view")}),e("a.back-button").click(function(t){t.preventDefault(),e(this).parents("ul.is-in-view").closest("ul.has-been-viewed").toggleClass("has-been-viewed is-in-view").promise().done(function(){e("ul.is-in-view ul.is-in-view").toggleClass("is-in-view")})}),e("html").hasClass("csstransitions")||(e("a.toggle-menu").click(function(i){i.preventDefault(),e(l).toggleClass("open-modernizer",t)}),e("a.toggle").click(function(i){i.preventDefault(),e(l+" ul").animate({right:"+=100%"},t)}),e("a.back-button").click(function(i){i.preventDefault(),e(l+" ul").animate({right:"-=100%"},t)}))})}})}(jQuery);