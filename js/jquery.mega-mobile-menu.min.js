!function(e){jQuery.fn.extend({megaMobileMenu:function(s){var n={changeToggleText:!0,enableWidgetRegion:!1,menuClass:".mobile-mega-menu",resetMenu:!1,stayOnActive:!0,toogleTextOnClose:"Close Menu"},i=e.extend(n,s);return this.each(function(){var s=250,n=e("a.toggle-menu").html();if(e(i.menuClass+" ul ul").before('<a class="toggle" href="#"><div class="arrow">Next</div></a>').siblings("a:first-of-type").addClass("has-toggle"),e(i.menuClass+" ul ul").prepend('<li><a class="back-button" href="#">Back</a></li>'),e("html, body").on("touchstart click",function(){e("html, body").stop()}),i.enableWidgetRegion===!0){var t=e(i.menuClass+" .widget-region").detach();e(i.menuClass+" ul:first-child").append(t)}var l=-1;if(e(i.menuClass+" ul").each(function(){l=l>e(this).height()?l:e(this).height()}),e(i.menuClass).css("min-height",l+50).hide(),i.stayOnActive===!0){var a=window.location.href;e(i.menuClass+" ul li a").filter(function(){return this.href===a}).addClass("active"),e(i.menuClass+" a.active").closest("ul").addClass("is-in-view").parents("ul").addClass("has-been-viewed"),e(i.menuClass+" a.active").closest("ul").parents().siblings("li").find("ul").hide()}e("a.toggle-menu").click(function(t){t.preventDefault(),e(i.menuClass+" ul:first-child").hasClass("has-been-viewed")||e(i.menuClass+" ul:first-child").toggleClass("is-in-view"),e(this).toggleClass("extended"),i.changeToggleText===!0&&(e(this).hasClass("extended")?e(this).html(i.toogleTextOnClose):e(this).hasClass("extended")||e(this).html(n)),i.resetMenu===!0?e(i.menuClass).fadeIn(1,function(){e(i.menuClass).toggleClass("open").promise().done(function(){e(i.menuClass).hasClass("open")||(e(i.menuClass).fadeOut(),setTimeout(function(){e(i.menuClass+" ul").removeClass("is-in-view has-been-viewed")},s))})}):e(i.menuClass).fadeIn(1,function(){e(i.menuClass).toggleClass("open").promise().done(function(){e(i.menuClass).hasClass("open")||e(i.menuClass).fadeOut()})})}),e("a.toggle").click(function(n){n.preventDefault(),setTimeout(function(){e("html, body").animate({scrollTop:0},s)},s),e(this).siblings("ul:first-of-type").addClass("is-in-view"),e(this).parents().siblings("li").find("ul").hide(),e(this).siblings("ul").show(),e(this).parents("ul:first-of-type").addClass("has-been-viewed").removeClass("is-in-view")}),e("a.back-button").click(function(s){s.preventDefault(),e(this).parents("ul.is-in-view").closest("ul.has-been-viewed").toggleClass("has-been-viewed is-in-view").promise().done(function(){e("ul.is-in-view ul.is-in-view").toggleClass("is-in-view")})}),e("html").hasClass("csstransitions")||(e("a.toggle-menu").click(function(n){n.preventDefault(),e(i.menuClass).toggleClass("open-modernizer",s)}),e("a.toggle").click(function(n){n.preventDefault(),e(i.menuClass+" ul").animate({right:"+=100%"},s)}),e("a.back-button").click(function(n){n.preventDefault(),e(i.menuClass+" ul").animate({right:"-=100%"},s)}))})}})}(jQuery);